<p>Input:<br><textarea id="input" rows="10" cols="80"></textarea>
<p><button onclick="process()">Process</button>
<p>Output:<br><textarea id="output" rows="10" cols="80"></textarea>

<script>

function process() {

let x = document.getElementById("input").value;

x = x.replace(/[^\w]+/gi, " "); //replace any non-word character or a space character, case insensitive
x = x.toUpperCase(); //puts all text in uppercase

let token = x.split(" "); //takes the string and puts it into an array
let type = [...new Set(token)]; //gets types from the tokens variable

let ratio = type.length/token.length; //gets type-token ratio
 
let y = {};
let counter = 0;

for (let i = 0; i < type.length; i++) { 
   for (let j = 0; j < token.length; j++) { 
     if (type[i] == token[j]) {
	     counter ++;
	   }
	}
	y[type[i]] = counter; 
	counter = 0;
}

let sortedFrequency = Object.keys(y).sort(function(a,b) { //how to sort an object
  return y[b]-y[a]
  });
let finalProduct = "";

for(let k = 0; k < sortedFrequency.length; k++) {
  finalProduct += sortedFrequency[k]+ " " + y[sortedFrequency[k]] + "\n"; 
}

document.getElementById("output").value = finalProduct + "\n" + "The ratio is "+ratio*100+"%";

}

// credit for this goes to Ananda, Leyla, and especially Reza. I was not able to write this on my own they they helped me immensely. I would like to make sure they are given credit for their work. 
</script> 